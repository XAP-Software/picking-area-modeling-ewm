# Моделирование зоны отбора на складах под управлением SAP EWM с целью оптимизации пробегов

## Суть проблемы со стороны IT

### Расчет участка пути (Travel distance calculation / TDC)

Вся зона коробочного отбора обычно представляет собой один тип склада, поэтому под сетью (network) также подразумевается один тип склада (storage type). Расчет участка пути будет происходить в рамках этой сети.

TDC включает в себя два вида передвижений:

1. Передвижение в рамках одной сети, включающее в себя передвижения по рядам (aisle) и связь между складским местом (storage bin) и сетью.
2. Передвижение вне сети.

Эвристика для TDC:

- Поиск в глубину

    Система пробует искать маршрут между указанными узлами сети в кратчайшие сроки. Здесь выполняется поиск в глубину от начального складского места до конечного. Поиск заканчивается, когда находится первый полный маршрут.

- Поиск в ширину  

    Система ищет все возможные маршруты в сети и ищет среди них кратчайший. Эта эвристика более требовательна к производительности, поэтому подходит только для небольших сетей.

- Критерий остановки  

    Параметр, ограничивающий количество узлов, которые может посетить маршрут, по отношению к маршруту, найденному поиском в глубину. Этот параметр может негативно сказаться на корректность решения и не найти корректный маршрут, однако значительно ускоряя поиск в ширину.

Как связаны эвристики с реальным миром?

TDC считает кратчайший путь между двумя складскими местами, однако из-за того, что таких складских мест в пути может быть много, то влияние эвристики TDC на общий путь будет минимально, следовательно можно опустить то, насколько оптимизирована данная эвристика.

### Планирование обхода складских мест

SAP EWM управляет обходом складских мест, опираясь на следующие параметры и инструменты:

- Порядок обхода складских мест, поданный на вход системе
- Складской заказ (warehouse order)
- Области действий
- Размер складского заказа (ограничение по объему)

Сначала система берет текущее складское место, дальше с помощью TDC ищет кратчайший путь до следующего складского места. Как только размер складского заказа становится максимальным, система создает новый заказ. Также возможна ситуация, когда следующее складское место располагается в другой области действий, тогда система создает новый заказ, несмотря на то, что текущий заказ мог быть заполнен не на 100%.

Порядок обхода складских мест может быть любым.

Под размером складского заказа подразумевается количество элементов в паллете.

## Анализ выбора платформы  

### Моделирование в SAP S/4HANA System и обработка результатов в Python  

1. Плюсы:
    - Большое количество алгоритмов уже реализовано
2. Минусы:
    - Необходимо проверить возможно ли реализовать интеграционные точки, а также реализовать их
    - Производительность моделирования будет хуже в сравнении с моделированием на PySim

### Моделирование в PySim и обработка результатов в Python  

1. Плюсы:
    - Производительность моделирования будет лучше в сравнении с моделированием в первом методе
    - Нет необходимости реализовывать интеграционные точки
2. Минусы:
    - При реализации алгоритма возможна ситуация, когда результат будет отличаться от алгоритма в SAP S/4HANA System
    - Сложность разработки увеличавается в несколько раз в сравнении с первым методом

## Моделирование

Параметры, подающиеся на вход:

- Количество областей действий (activity area)
- Порядок обхода складских мест в рамках области действия
- Размеры складских участков (storage section)
- Размер складского заказа (ограничение по объему) // описать в инструментах подробнее
